{"openapi":"3.1.0","info":{"title":"AI Personal Assistant API","description":"API для персонального ассистента-планировщика","version":"1.0"},"paths":{"/users":{"post":{"summary":"Создать пользователя","description":"Создает нового пользователя.","operationId":"create_users_users_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Получить список пользователей","description":"Возвращает список пользователей.","operationId":"get_users_users_get","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"first_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"}},{"name":"last_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"}},{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},{"name":"icon","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Icon"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"},"title":"Response Get Users Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Редактировать пользователя","description":"Редактирует пользователя.","operationId":"update_users_users_put","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"first_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"}},{"name":"last_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"}},{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},{"name":"password_hash","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password Hash"}},{"name":"is_verified","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified"}},{"name":"icon","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Icon"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/User"},{"type":"null"}],"title":"User"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Удалить пользователя","description":"Удаляет пользователя, для этого нужно подтверждение.","operationId":"delete_users_users_delete","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"icon","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Icon"}},{"name":"confirm","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Confirm"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/User"},{"type":"null"}],"title":"User"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks":{"post":{"summary":"Создать задачу","description":"Создает новую задачу.","operationId":"create_tasks_tasks_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Получить список задач","description":"Возвращает список всех задач.","operationId":"get_tasks_tasks_get","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"list_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"List Id"}},{"name":"priority","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Priority"}},{"name":"creation_date","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Creation Date"}},{"name":"finish_date","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Finish Date"}},{"name":"is_done","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Is Done"}},{"name":"time_reminder","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Reminder"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Task"},"title":"Response Get Tasks Tasks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Редактировать задачу","description":"Редактирует задачу.","operationId":"update_tasks_tasks_put","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"}},{"name":"description","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},{"name":"list_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"List Id"}},{"name":"priority","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Priority"}},{"name":"finish_date","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Finish Date"}},{"name":"is_done","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Is Done"}},{"name":"time_reminder","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Reminder"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/Task"},{"type":"null"}],"title":"Task"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Удалить задачу","description":"Удаляет задачу, для этого нужно подтверждение.","operationId":"delete_tasks_tasks_delete","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"confirm","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Confirm"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/Task"},{"type":"null"}],"title":"Task"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tags":{"post":{"summary":"Создать тег","description":"Создает новый тег.","operationId":"create_tags_tags_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tag"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tag"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Получить список тегов","description":"Возвращает список всех тегов.","operationId":"get_tags_tags_get","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Tag"},"title":"Response Get Tags Tags Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Редактировать тег","description":"Редактирует тег.","operationId":"update_tags_tags_put","parameters":[{"name":"tag_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tag Name"}},{"name":"color","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Color"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/Tag"},{"type":"null"}],"title":"Tag"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tag"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Удалить тег","description":"Удаляет тег, для этого нужно подтверждение.","operationId":"delete_tags_tags_delete","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"confirm","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Confirm"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/Tag"},{"type":"null"}],"title":"Tag"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages":{"post":{"summary":"Отправить сообщение ИИ","description":"Отправляет сообщение ИИ и получает ответ.","operationId":"create_messages_messages_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Получить список сообщений","description":"Возвращает сообщение","operationId":"get_messages_messages_get","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"sent_at","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sent At"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Message"},"title":"Response Get Messages Messages Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/verification_codes":{"post":{"summary":"Добвать код подтверждения","description":"Создаёт код подтверждения","operationId":"create_verification_codes_verification_codes_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerificationCode"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerificationCode"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Получить список кодов подтверждения","description":"Возвращает список кодов подтверждения","operationId":"get_verification_codes_verification_codes_get","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"expires","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expires"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VerificationCode"},"title":"Response Get Verification Codes Verification Codes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Удалить истекший код подтверждения.","description":"Удаляет истекший код подтверждения.","operationId":"delete_expired_verification_codes_verification_codes_delete","parameters":[{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"}},{"name":"expires","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expires"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/VerificationCode"},{"type":"null"}],"title":"Verification Code"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Message":{"properties":{"id":{"type":"integer","minimum":1.0,"title":"Id","description":"Идентификатор сообщения"},"message":{"type":"string","minLength":1,"title":"Message","description":"Текст сообщения"},"user_id":{"type":"integer","minimum":1.0,"title":"User Id","description":"Идентификатор пользователя"}},"type":"object","required":["id","message","user_id"],"title":"Message","description":"Модель сообщений для взаимодействия с ИИ."},"Tag":{"properties":{"id":{"type":"integer","minimum":1.0,"title":"Id","description":"Идентификатор тега"},"tag_name":{"type":"string","maxLength":50,"minLength":1,"title":"Tag Name","description":"Название тега (1-50 символов)"},"color":{"type":"string","maxLength":6,"minLength":6,"title":"Color","description":"Цвет тега в HEX формате (например, #FF5733)"}},"type":"object","required":["id","tag_name","color"],"title":"Tag","description":"Модель тега для задач."},"Task":{"properties":{"id":{"type":"integer","minimum":1.0,"title":"Id","description":"Уникальный идентификатор задачи"},"title":{"type":"string","maxLength":50,"minLength":3,"title":"Title","description":"Название задачи (от 3 до 50 символов)"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Описание задачи (необязательно)"},"list_id":{"type":"integer","minimum":1.0,"title":"List Id","description":"Идентификатор списка, к которому относится задача"},"priority":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Priority","description":"Приоритет задачи от 1 (низкий) до 5 (высокий)"},"creation_date":{"type":"integer","title":"Creation Date","description":"Дата создания задачи (формат UNIX timestamp)"},"finish_date":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Finish Date","description":"Дата завершения задачи"},"is_done":{"type":"boolean","title":"Is Done","description":"Статус выполнения задачи","default":false},"time_reminder":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Reminder","description":"Время напоминания (формат UNIX timestamp)"},"scheduled_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Scheduled At","description":"Запланированное время выполнения (формат UNIX timestamp)"}},"type":"object","required":["id","title","list_id","priority","creation_date"],"title":"Task","description":"Модель задачи с приоритетом, статусом и возможностью напоминания."},"User":{"properties":{"id":{"type":"integer","minimum":1.0,"title":"Id","description":"Уникальный идентификатор пользователя"},"first_name":{"type":"string","maxLength":20,"minLength":1,"pattern":"^[a-zA-Zа-яА-ЯёЁ-]+$","title":"First Name","description":"Имя пользователя"},"last_name":{"type":"string","maxLength":50,"minLength":1,"pattern":"^[a-zA-Zа-яА-ЯёЁ-]+$","title":"Last Name","description":"Фамилия пользователя"},"email":{"type":"string","maxLength":50,"minLength":7,"format":"email","title":"Email","description":"Email пользователя в корректном формате"},"password_hash":{"type":"string","maxLength":255,"minLength":8,"title":"Password Hash","description":"Хеш пароля (мин. 8 символов)"},"role":{"type":"string","maxLength":5,"minLength":1,"title":"Role","description":"Роль пользователя (например, admin или user)"},"is_verified":{"type":"boolean","title":"Is Verified","description":"Статус подтверждения","default":false},"icon":{"type":"integer","maximum":1.0,"minimum":1.0,"title":"Icon","description":"Список иконок пользователя"}},"type":"object","required":["id","first_name","last_name","email","password_hash","role","icon"],"title":"User","description":"Модель пользователя с информацией о логине, email, роли и пароле."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VerificationCode":{"properties":{"id":{"type":"integer","minimum":1.0,"title":"Id","description":"Идентификатор кода"},"value":{"type":"integer","maxLength":6,"minLength":6,"title":"Value","description":"Код"},"expires":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expires","description":"Время действия кода (формат UNIX timestamp)"}},"type":"object","required":["id","value"],"title":"VerificationCode","description":"Модель кода подтверждения."}}}}